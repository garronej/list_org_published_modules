{"version":3,"sources":["theme.ts","index.tsx"],"names":["createThemeProvider","windowInnerWidth","browserFontSizeFactor","windowInnerHeight","defaultGetTypographyDesc","ThemeProvider","useTheme","Icon","createIcon","SentimentSatisfiedIcon","PageViewIcon","Button","createIconButton","IconButton","createButton","Text","createText","PageHeader","createPageHeader","makeStyles","createMakeStyles","listGitHubOrganizationPublishedModules","listGitHubOrganizationPublishedModulesFactory","createOctokit","join","fetch","useStyles","theme","spacing","colors","useCases","surfaces","surface1","shadows","App","memo","classes","hideRootSplashScreen","useSplashScreen","useEffect","useState","undefined","githubOrganizationName","setGithubOrganizationName","evtRepoModules","setEvtRepoModule","Object","search","setSearch","lastRepoName","setLastRepoName","npmModuleNamesByGithubRepoName","setNpmModuleNamesByGithubRepoName","useEvt","ctx","pipe","data","registerSideEffect","repoName","modules","length","attach","out","push","map","moduleName","resultNode","useMemo","className","keys","resultEntry","typo","Link","href","getNpmModuleUrl","target","onButtonClick","useConstCallback","onKeyPress","key","root","mainIcon","title","helpTitle","helpContent","helpIcon","searchBarWrapper","SearchBar","searchBar","onSearchChange","placeholder","disabled","onClick","CircularProgress","size","resultNodeWrapper","render","splashScreen","document","getElementById"],"mappings":"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","file":"static/js/main.e5634614.chunk.js","sourcesContent":["\n\nimport { createThemeProvider, defaultGetTypographyDesc } from \"onyxia-ui/lib\";\nimport { createIcon } from \"onyxia-ui/Icon\";\nimport { createIconButton } from \"onyxia-ui/IconButton\";\nimport { createButton } from \"onyxia-ui/Button\";\nimport { createText } from \"onyxia-ui/Text\";\nimport type { Param0 } from \"tsafe\";\nimport { createMakeStyles } from \"tss-react\";\nimport { createPageHeader } from \"onyxia-ui/PageHeader\";\n\n//Import icons from https://material-ui.com/components/material-icons/ that you plan to use\nimport SentimentSatisfiedIcon from \"@material-ui/icons/SentimentSatisfied\";\nimport PageViewIcon from '@material-ui/icons/Pageview';\n\nexport const { ThemeProvider, useTheme } = createThemeProvider({\n\t\"getTypographyDesc\": ({\n\t\twindowInnerWidth,\n\t\t//When users go to it's browser setting he can select the font size \"small\", \"medium\", \"default\"\n\t\t//You can choose to take that into account for example by doing \"rootFontSizePx\": 10 * browserFontSizeFactor (default)\n\t\tbrowserFontSizeFactor,\n\t\twindowInnerHeight\n\t}) => ({\n\t\t...defaultGetTypographyDesc({\n\t\t\twindowInnerWidth,\n\t\t\tbrowserFontSizeFactor,\n\t\t\twindowInnerHeight\n\t\t}),\n\t\t\"fontFamily\": '\"Work Sans\", sans-serif',\n\t}), \n});\n\nexport const { Icon } = createIcon({\n\t\"sentimentSatisfied\": SentimentSatisfiedIcon,\n\t\"pageView\": PageViewIcon\n});\n\nexport type IconId = Param0<typeof Icon>[\"iconId\"];\n\nexport const { IconButton } = createIconButton({ Icon });\nexport const { Button } = createButton({ Icon });\nexport const { Text } = createText({ useTheme });\nexport const { PageHeader } = createPageHeader({ Icon });\n\nexport const { makeStyles } = createMakeStyles({ useTheme });","import { render } from \"react-dom\";\nimport { ThemeProvider } from \"./theme\";\nimport { useState, useMemo, useEffect, memo } from \"react\";\nimport { makeStyles, PageHeader, Text, Button } from \"./theme\";\nimport { SearchBar } from \"onyxia-ui/SearchBar\";\nimport type { SearchBarProps } from \"onyxia-ui/SearchBar\";\nimport Link from \"@material-ui/core/Link\";\nimport { CircularProgress } from \"onyxia-ui/CircularProgress\";\nimport { useEvt } from \"evt/hooks\";\nimport { useConstCallback } from \"powerhooks/useConstCallback\";\nimport {\n\tlistGitHubOrganizationPublishedModulesFactory,\n\tcreateOctokit,\n\tgetNpmModuleUrl\n} from \"list_org_published_modules\";\nimport { useSplashScreen } from \"onyxia-ui\";\n\nconst { listGitHubOrganizationPublishedModules } = listGitHubOrganizationPublishedModulesFactory({\n\t...createOctokit({\n\t\t\"github_token\": [\n\t\t\t\"g\", \"hp_X\", \"T5SO\",\n\t\t\t\"Rq5aN\", \"qFHOjVW\",\n\t\t\t\"e7OSQDu2ZO\", \"X2V4K20on\"\n\t\t].join(\"\")\n\t}),\n\tfetch\n})\n\nconst useStyles = makeStyles()(\n\ttheme => ({\n\t\t\"root\": {\n\t\t\t\"height\": \"100%\",\n\t\t\t\"overflow\": \"hidden\",\n\t\t\t\"display\": \"flex\",\n\t\t\t\"flexDirection\": \"column\",\n\t\t\t\"padding\": theme.spacing(6),\n\t\t\t\"paddingBottom\": 0\n\t\t},\n\t\t\"searchBarWrapper\": {\n\t\t\t\"display\": \"flex\",\n\t\t\t\"marginBottom\": theme.spacing(2)\n\t\t},\n\t\t\"searchBar\": {\n\t\t\t\"flex\": 1,\n\t\t\t\"marginRight\": theme.spacing(2)\n\t\t},\n\t\t\"resultNodeWrapper\": {\n\t\t\t\"flex\": 1,\n\t\t\t\"overflow\": \"auto\",\n\t\t\t\"marginTop\": theme.spacing(2)\n\t\t},\n\t\t\"resultNode\": {\n\t\t\t\"paddingBottom\": theme.spacing(6),\n\t\t},\n\t\t\"resultEntry\": {\n\t\t\t\"backgroundColor\": theme.colors.useCases.surfaces.surface1,\n\t\t\t\"borderRadius\": theme.spacing(3),\n\t\t\t\"boxShadow\": theme.shadows[2],\n\t\t\t\"margin\": theme.spacing(3),\n\t\t\t\"padding\": theme.spacing(3),\n\t\t\t\"&:hover\": {\n\t\t\t\t\"shadow\": theme.shadows[3],\n\t\t\t},\n\t\t\t\"display\": \"inline-block\"\n\t\t}\n\t})\n);\n\nconst App = memo(() => {\n\n\tconst { classes } = useStyles();\n\n\t{\n\n\t\tconst { hideRootSplashScreen } = useSplashScreen();\n\n\t\tuseEffect(()=> { hideRootSplashScreen(); }, []);\n\n\t}\n\n\n\tconst [\n\t\tgithubOrganizationName,\n\t\tsetGithubOrganizationName\n\t] = useState<string | undefined>(undefined);\n\n\tconst [evtRepoModules, setEvtRepoModule] =\n\t\tuseState<ReturnType<typeof listGitHubOrganizationPublishedModules>[\"evtRepoModules\"] | undefined>(\n\t\t\tundefined\n\t\t);\n\n\t\n\n\tuseEffect(\n\t\t() => {\n\n\t\t\tif (githubOrganizationName === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { evtRepoModules } = listGitHubOrganizationPublishedModules(\n\t\t\t\t{ githubOrganizationName }\n\t\t\t);\n\n\t\t\tsetEvtRepoModule(evtRepoModules);\n\n\t\t},\n\t\t[githubOrganizationName ?? Object]\n\t);\n\n\n\tconst [search, setSearch] = useState(\"\");\n\n\tconst [lastRepoName, setLastRepoName] = useState(\"\");\n\tconst [\n\t\tnpmModuleNamesByGithubRepoName,\n\t\tsetNpmModuleNamesByGithubRepoName\n\t] = useState<Record<string, string[]>>({});\n\n\tuseEvt(\n\t\tctx => {\n\n\t\t\tif (evtRepoModules === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetNpmModuleNamesByGithubRepoName({});\n\n\t\t\tevtRepoModules\n\t\t\t\t.pipe(\n\t\t\t\t\tctx,\n\t\t\t\t\t(data, registerSideEffect) =>\n\t\t\t\t\t\tdata === \"DONE\"\n\t\t\t\t\t\t\t? (registerSideEffect(() => setEvtRepoModule(undefined)), null)\n\t\t\t\t\t\t\t: [data]\n\t\t\t\t)\n\t\t\t\t.pipe(\n\t\t\t\t\t(data, registerSideEffect) => (\n\t\t\t\t\t\tregisterSideEffect(() => setLastRepoName(data.repoName)),\n\t\t\t\t\t\t[data]\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t.pipe(({ modules }) => modules.length !== 0)\n\t\t\t\t.attach(({ repoName, modules }) =>\n\t\t\t\t\tsetNpmModuleNamesByGithubRepoName(\n\t\t\t\t\t\tnpmModuleNamesByGithubRepoName => {\n\t\t\t\t\t\t\tconst out = { ...npmModuleNamesByGithubRepoName };\n\t\t\t\t\t\t\t//(out[repoName] ??= []).push(...modules.map(({ moduleName }) => moduleName));\n\t\t\t\t\t\t\tif (out[repoName] === undefined) {\n\t\t\t\t\t\t\t\tout[repoName] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tout[repoName].push(...modules.map(({ moduleName }) => moduleName));\n\t\t\t\t\t\t\treturn out;\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t},\n\t\t[evtRepoModules ?? Object]\n\t);\n\n\tconst resultNode = useMemo(\n\t\t() => <div className={classes.resultNode}>\n\t\t\t{Object.keys(npmModuleNamesByGithubRepoName)\n\t\t\t\t.map(repoName =>\n\t\t\t\t\t<div key={repoName} className={classes.resultEntry}>\n\t\t\t\t\t\t<Text typo=\"object heading\">{githubOrganizationName}/{repoName}:</Text>\n\t\t\t\t\t\t{npmModuleNamesByGithubRepoName[repoName].map(moduleName =>\n\t\t\t\t\t\t\t<>&nbsp;&nbsp;-NPM: <Link\n\t\t\t\t\t\t\t\thref={getNpmModuleUrl({ moduleName })}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{moduleName}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>,\n\t\t[npmModuleNamesByGithubRepoName]\n\t);\n\n\tconst onButtonClick = useConstCallback(() => setGithubOrganizationName(search));\n\n\tconst onKeyPress = useConstCallback<SearchBarProps[\"onKeyPress\"]>(\n\t\tkey => {\n\t\t\tswitch (key) {\n\t\t\t\tcase \"Enter\": onButtonClick(); break;\n\t\t\t\tdefault: return;\n\t\t\t}\n\t\t}\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<PageHeader\n\t\t\t\tmainIcon=\"pageView\"\n\t\t\t\ttitle=\"list_org_published_modules\"\n\t\t\t\thelpTitle=\"What is it?\"\n\t\t\t\thelpContent={<>This tool take as input a GitHub organization or GitHub\n\t\t\t\t\tuser name and list the modules it publishes on the major package manager\n\t\t\t\t\trepository: npm, maven, ect. &nbsp;\n\t\t\t\t\t<Link href=\"https://github.com/garronej/list_org_published_modules\">Learn more</Link>\n\t\t\t\t</>}\n\t\t\t\thelpIcon=\"sentimentSatisfied\"\n\t\t\t/>\n\t\t\t<div className={classes.searchBarWrapper}>\n\t\t\t\t<SearchBar\n\t\t\t\t\tclassName={classes.searchBar}\n\t\t\t\t\tsearch={search}\n\t\t\t\t\tonSearchChange={setSearch}\n\t\t\t\t\tplaceholder={\"Type in an GitHub organization like \\\"etalab\\\"\"}\n\t\t\t\t\tonKeyPress={onKeyPress}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={\n\t\t\t\t\t\tsearch === githubOrganizationName ||\n\t\t\t\t\t\tgithubOrganizationName === \"\"\n\t\t\t\t\t}\n\t\t\t\t\tonClick={onButtonClick}\n\t\t\t\t>\n\t\t\t\t\tStart search\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{evtRepoModules !== undefined &&\n\t\t\t\t<Text typo=\"subtitle\">\n\t\t\t\t\t<CircularProgress size={15} /> Currently crawling <strong>{githubOrganizationName}/{lastRepoName}</strong>\n\t\t\t\t</Text>}\n\t\t\t<div className={classes.resultNodeWrapper}>\n\t\t\t\t{resultNode}\n\t\t\t</div>\n\t\t</div>\n\t);\n\n});\n\n\nrender(\n\t<ThemeProvider\n\t\tsplashScreen={{\n\t\t\t\"Logo\": () => <></>,\n\t\t\t\"minimumDisplayDuration\": 0\n\t\t}}\n\t>\n\t\t<App />\n\t</ThemeProvider>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}